export function initGallery(e={}){const t=e.selector||".gallery img",n=e.lightboxClass||"rts-lightbox",r=!1!==e.closeOnBackdrop,l=!1!==e.closeOnEsc,o=Array.from(document.querySelectorAll(t));if(!o.length)return;let s=null,c=null;function a(e,t,o){if(s)return;s=document.createElement("div"),s.className=n,s.setAttribute("role","dialog"),s.setAttribute("aria-modal","true"),s.setAttribute("aria-label","Image preview"),s.innerHTML=`\n      <button class="${n}__close" aria-label="Close dialog">&times;</button>\n      <div class="${n}__content">\n        <img src="${e}" alt="${t||""}" loading="eager">\n      </div>\n    `,document.body.appendChild(s),document.body.style.overflow="hidden",s.querySelector(`.${n}__close`).focus();const a=e=>{r&&e.target===s&&i()},d=()=>i();c=e=>{l&&"Escape"===e.key&&i()},s.addEventListener("click",a),s.querySelector(`.${n}__close`).addEventListener("click",d),l&&document.addEventListener("keydown",c),s._handlers={backdrop:a,close:d,keydown:c}}function i(){s&&(s.removeEventListener("click",s._handlers.backdrop),s.querySelector(`.${n}__close`).removeEventListener("click",s._handlers.close),l&&document.removeEventListener("keydown",s._handlers.keydown),document.body.style.overflow="",s.remove(),s=null,c=null)}return o.forEach(e=>{if(e._galleryListener)return;e.style.cursor="zoom-in",e.setAttribute("tabindex","0"),e.setAttribute("role","button"),e.setAttribute("aria-label","Enlarge image");const t=()=>a(e.src,e.alt),n=t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),a(e.src,e.alt))};e.addEventListener("click",t),e.addEventListener("keydown",n),e._galleryListener=t,e._galleryKeydown=n}),{open:a,close:i,items:o}}
//# sourceMappingURL=gallery.min.js.map