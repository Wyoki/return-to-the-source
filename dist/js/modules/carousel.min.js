export function initCarousel(){const e=document.querySelectorAll(".partner-carousel");0!==e.length?e.forEach((e,o)=>{try{initSingleCarousel(e,o)}catch(e){console.error(`Failed to initialize carousel ${o}:`,e)}}):console.warn("No partner carousels found on the page")}function initSingleCarousel(e,o){const t=e.querySelector(".partner-logos"),r=e.querySelectorAll(".partner-slide"),l=e.querySelector(".prev-btn"),i=e.querySelector(".next-btn");if(!t||!l||!i)return void console.warn(`Carousel ${o}: Missing required elements`);if(0===r.length)return void console.warn(`Carousel ${o}: No slides found`);const n=200,s=32,c="smooth",a="0.5",u="1",d=5,m={scrollPosition:0,isScrolling:!1,maxScrollPosition:0},v=()=>(m.maxScrollPosition=Math.max(0,t.scrollWidth-t.clientWidth),m.maxScrollPosition),p=()=>{const e=t.clientWidth,o=n+s;return Math.max(1,Math.floor(e/o))*o},S=e=>{if(m.isScrolling)return;const o=v(),r=Math.max(0,Math.min(e,o));m.isScrolling=!0,m.scrollPosition=r,t.scrollTo({left:r,behavior:c});const l=()=>{m.isScrolling=!1,"scrollend"in window&&t.removeEventListener("scrollend",l)};"scrollend"in window?t.addEventListener("scrollend",l,{once:!0}):setTimeout(l,300)},b=()=>{const e=p(),o=m.scrollPosition+e;S(o)},h=()=>{const e=p(),o=m.scrollPosition-e;S(o)},g=()=>{const e=v(),o=m.scrollPosition<=d,t=m.scrollPosition>=e-d;l.style.opacity=o?a:u,i.style.opacity=t?a:u,l.setAttribute("aria-disabled",o.toString()),i.setAttribute("aria-disabled",t.toString()),l.disabled=o,i.disabled=t};let P;const f=()=>{m.scrollPosition=t.scrollLeft,clearTimeout(P),P=setTimeout(()=>{g()},16)};let y;const E=()=>{clearTimeout(y),y=setTimeout(()=>{v();const e=m.maxScrollPosition;m.scrollPosition>e?S(e):g()},250)};l.setAttribute("aria-label","Previous partners"),i.setAttribute("aria-label","Next partners"),t.setAttribute("role","region"),t.setAttribute("aria-label","Partner logos carousel"),l.addEventListener("click",h),i.addEventListener("click",b),t.addEventListener("scroll",f,{passive:!0}),window.addEventListener("resize",E,{passive:!0}),v(),g(),e._cleanupCarousel=()=>{l.removeEventListener("click",h),i.removeEventListener("click",b),t.removeEventListener("scroll",f),window.removeEventListener("resize",E),clearTimeout(P),clearTimeout(y)}}export function destroyCarousels(){document.querySelectorAll(".partner-carousel").forEach(e=>{e._cleanupCarousel&&(e._cleanupCarousel(),delete e._cleanupCarousel)})}
//# sourceMappingURL=carousel.min.js.map